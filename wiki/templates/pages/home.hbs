<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">TouchDesigner Documentation Wiki</h1>
        <p class="hero-subtitle">
            Comprehensive operator reference with {{stats.totalEntries}} operators across all categories
        </p>
        
        <!-- Quick Search -->
        <div class="hero-search">
            <form action="/search" method="get" class="hero-search-form">
                <div class="search-container">
                    <input type="text" 
                           name="q" 
                           placeholder="Search operators, parameters, or descriptions..." 
                           class="hero-search-input"
                           autocomplete="off">
                    <button type="submit" class="hero-search-button">
                        <svg class="search-icon" viewBox="0 0 24 24">
                            <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                        </svg>
                        Search
                    </button>
                </div>
            </form>
        </div>
        
        <!-- Quick Stats -->
        <div class="hero-stats">
            <div class="stat-item">
                <span class="stat-number">{{stats.totalEntries}}</span>
                <span class="stat-label">Operators</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">{{stats.totalParameters}}</span>
                <span class="stat-label">Parameters</span>
            </div>
            <div class="stat-item">
                <span class="stat-number">{{categories.length}}</span>
                <span class="stat-label">Categories</span>
            </div>
        </div>
    </div>
</section>

<!-- Categories Section -->
<section class="categories-section">
    <div class="section-header">
        <h2 class="section-title">Browse by Category</h2>
        <p class="section-subtitle">Explore operators organized by their functional categories</p>
    </div>
    
    <div class="categories-grid">
        {{#each categories}}
        <a href="/{{name}}" class="category-card">
            <div class="category-icon">
                {{#ifEquals name 'TOP'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'CHOP'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'SOP'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'DAT'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M3 3v18h18V3H3zm16 16H5V5h14v14zM11 7h2v2h-2zM7 7h2v2H7zm8 0h2v2h-2zm-8 4h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2zM7 15h2v2H7zm4 0h2v2h-2zm4 0h2v2h-2z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'MAT'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'COMP'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M4 6H2v14c0 1.1.9 2 2 2h14v-2H4V6zm16-4H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-1 9H9V9h10v2zm-4 4H9v-2h6v2zm4-8H9V5h10v2z"/>
                    </svg>
                {{/ifEquals}}
                {{#ifEquals name 'POP'}}
                    <svg viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM7 13.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm5 0c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5z"/>
                    </svg>
                {{/ifEquals}}
            </div>
            <div class="category-content">
                <h3 class="category-name">{{formatCategory name}}</h3>
                <div class="category-stats">
                    <span class="category-count">{{count}} operators</span>
                </div>
                <p class="category-description">
                    {{#ifEquals name 'TOP'}}
                        Texture operators for image processing, effects, and generation
                    {{/ifEquals}}
                    {{#ifEquals name 'CHOP'}}
                        Channel operators for audio, animation, and control data
                    {{/ifEquals}}
                    {{#ifEquals name 'SOP'}}
                        Surface operators for 3D geometry creation and manipulation
                    {{/ifEquals}}
                    {{#ifEquals name 'DAT'}}
                        Data operators for text, tables, and information processing
                    {{/ifEquals}}
                    {{#ifEquals name 'MAT'}}
                        Material operators for shading and rendering
                    {{/ifEquals}}
                    {{#ifEquals name 'COMP'}}
                        Component operators for UI and complex systems
                    {{/ifEquals}}
                    {{#ifEquals name 'POP'}}
                        Particle operators for simulation and dynamics
                    {{/ifEquals}}
                </p>
            </div>
            <div class="category-arrow">â†’</div>
        </a>
        {{/each}}
    </div>
</section>

<!-- Featured Operators Section -->
{{#if featured}}
<section class="featured-section">
    <div class="section-header">
        <h2 class="section-title">Featured Operators</h2>
        <p class="section-subtitle">Popular and commonly used operators to get you started</p>
    </div>
    
    <div class="operators-grid">
        {{#each featured}}
        <a href="/{{name}}" class="operator-card">
            <div class="operator-header">
                <span class="operator-category">{{category}}</span>
                <span class="operator-name">{{name}}</span>
            </div>
            <div class="operator-content">
                <p class="operator-description">{{truncate description 100}}</p>
                {{#if parameterCount}}
                <div class="operator-meta">
                    <span class="meta-item">{{parameterCount}} parameters</span>
                </div>
                {{/if}}
            </div>
        </a>
        {{/each}}
    </div>
    
    <div class="section-footer">
        <a href="/search" class="btn btn-secondary">Browse All Operators</a>
    </div>
</section>
{{/if}}

<!-- Quick Actions Section -->
<section class="quick-actions-section">
    <div class="section-header">
        <h2 class="section-title">Quick Actions</h2>
    </div>
    
    <div class="quick-actions-grid">
        <a href="/search" class="quick-action-card">
            <div class="action-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
                </svg>
            </div>
            <h3>Advanced Search</h3>
            <p>Filter by category, search parameters, and find exactly what you need</p>
        </a>
        
        <a href="/api/health" class="quick-action-card" target="_blank">
            <div class="action-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                </svg>
            </div>
            <h3>API Status</h3>
            <p>Check system health and statistics</p>
        </a>
        
        <a href="https://docs.derivative.ca/" class="quick-action-card" target="_blank">
            <div class="action-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M14,3V5H17.59L7.76,14.83L9.17,16.24L19,6.41V10H21V3M19,19H5V5H12V3H5C3.89,3 3,3.9 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V12H19V19Z"/>
                </svg>
            </div>
            <h3>Official Docs</h3>
            <p>Visit the official TouchDesigner documentation</p>
        </a>
        
        <a href="https://forum.derivative.ca/" class="quick-action-card" target="_blank">
            <div class="action-icon">
                <svg viewBox="0 0 24 24">
                    <path d="M17,12V3A1,1 0 0,0 16,2H3A1,1 0 0,0 2,3V17L6,13H16A1,1 0 0,0 17,12M21,6H19V15H6V17A1,1 0 0,0 7,18H18L22,22V7A1,1 0 0,0 21,6Z"/>
                </svg>
            </div>
            <h3>Community Forum</h3>
            <p>Get help and share knowledge with the community</p>
        </a>
    </div>
</section>
